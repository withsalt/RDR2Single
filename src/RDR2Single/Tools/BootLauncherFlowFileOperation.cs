using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace RDR2Single
{
    class BootLauncherFlowFileOperation
    {
        public static string GetBootLauncherFlowPath(string input)
        {
            if (!Common.CheckIsGamePath(input))
            {
                return null;
            }
            string path = Path.Combine(input, Common.DataPath);

            DirectoryInfo directoryInfo = Directory.GetParent(path);
            if (directoryInfo == null)
            {
                return null;
            }
            if (string.IsNullOrEmpty(directoryInfo.Parent.FullName))
            {
                return null;
            }
            path = Path.Combine(directoryInfo.Parent.FullName, "boot_launcher_flow.ymt");
            FileInfo fileInfo = new FileInfo(path);
            return fileInfo.FullName;
        }

        public static bool WriteBootLauncherFlow(string input)
        {
            string filePath = GetBootLauncherFlowPath(input);
            if (string.IsNullOrEmpty(filePath))
            {
                return false;
            }
            if (File.Exists(filePath))
            {
                return true;
            }
            return InitializeBootLauncherFlowFile(input);
        }

        public static bool DeleteBootLauncherFlow(string input)
        {
            string filePath = GetBootLauncherFlowPath(input);
            if (string.IsNullOrEmpty(filePath))
            {
                return false;
            }
            if (!File.Exists(filePath))
            {
                return true;
            }
            File.Delete(filePath);
            return true;
        }

        public static bool InitializeBootLauncherFlowFile(string input)
        {
            try
            {
                string filePath = GetBootLauncherFlowPath(input);
                if (string.IsNullOrEmpty(filePath))
                {
                    return false;
                }
                string fileContent = @"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxyYWdlX19md3VpRmxvd0Jsb2NrPg0KIDxJRD5ib290X2Zsb3c8L0lEPg0KIDxFbnRyeVBvaW50cz4NCiAgPEl0ZW0+DQogICA8SUQ+ZGVmYXVsdF9lbnRyeTwvSUQ+DQogICA8VGFyZ2V0PmJvb3Rfc2NyZWVuX2hvc3QuYWNjb3VudF9waWNrZXJfYWN0aXZpdHlfc2VudGluZWwuYWNjb3VudF9waWNrZXJfd3JhcHBlcjwvVGFyZ2V0Pg0KICA8L0l0ZW0+DQogIDxJdGVtPg0KICAgPElEPmJ5ZTwvSUQ+DQogICA8VGFyZ2V0PmJvb3Rfc2NyZWVuX2hvc3QubGVnYWxfc2NyZWVuX2FjdGl2aXR5X3NlbnRpbmVsLnN0aW5nZXI8L1RhcmdldD4NCiAgPC9JdGVtPg0KICA8SXRlbT4NCiAgIDxJRD5zaWduX291dDwvSUQ+DQogICA8VGFyZ2V0PmJvb3Rfc2NyZWVuX2hvc3QuYWNjb3VudF9waWNrZXJfYWN0aXZpdHlfc2VudGluZWwuYWNjb3VudF9waWNrZXJfd3JhcHBlcjwvVGFyZ2V0Pg0KICA8L0l0ZW0+DQogPC9FbnRyeVBvaW50cz4NCiA8RXhpdFBvaW50cz4NCiAgPEl0ZW0+DQogICA8SUQ+ZXhpdDwvSUQ+DQogIDwvSXRlbT4NCiA8L0V4aXRQb2ludHM+DQogPEZsb3dSb290Pg0KICA8SUQ+aW5wdXRfY29udGV4dF9zd2l0Y2g8L0lEPg0KICA8U3RhdGUgdHlwZT0iU3RhdGVTZXRJbnB1dENvbnRleHQiPg0KICAgPENvbnRleHRUeXBlPkJPT1RfRkxPVzwvQ29udGV4dFR5cGU+DQogIDwvU3RhdGU+DQogIDxDaGlsZHJlbj4NCiAgIDxJdGVtPg0KICAgIDxJRD5ib290X3NjcmVlbl9ob3N0PC9JRD4NCiAgICA8U3RhdGUgdHlwZT0iU3RhdGVVSU9iamVjdFN0cmVhbWVkU2NlbmVIb3N0Ij4NCiAgICAgPFNjZW5lTmFtZT5ib290X2Zsb3cvYm9vdF9zY3JlZW5faG9zdDwvU2NlbmVOYW1lPg0KICAgICA8R0NPblJlbW92ZSB2YWx1ZT0iVHJ1ZSIgLz4NCiAgICA8L1N0YXRlPg0KICAgIDxDaGlsZHJlbj4NCiAgICAgPEl0ZW0+DQogICAgICA8SUQ+YWNjb3VudF9waWNrZXJfYWN0aXZpdHlfc2VudGluZWw8L0lEPg0KICAgICAgPFN0YXRlIHR5cGU9InJhZ2VfX1N0YXRlQWN0aXZpdHlTZW50aW5lbCI+DQogICAgICAgPEFjdGl2aXR5SUQ+YWNjb3VudF9waWNrZXI8L0FjdGl2aXR5SUQ+DQogICAgICA8L1N0YXRlPg0KICAgICAgPENoaWxkcmVuPg0KICAgICAgIDxJdGVtPg0KICAgICAgICA8SUQ+YWNjb3VudF9waWNrZXJfd3JhcHBlcjwvSUQ+DQogICAgICAgIDxTdGF0ZSB0eXBlPSJTdGF0ZUFjY291bnRQaWNrZXIiIC8+DQogICAgICAgIDxMaW5rTWFwPg0KICAgICAgICAgPEl0ZW0ga2V5PSJuZXh0Ij4NCiAgICAgICAgICA8VGFyZ2V0PmFjY291bnRfcGlja2VyPC9UYXJnZXQ+DQogICAgICAgICA8L0l0ZW0+DQogICAgICAgICA8SXRlbSBrZXk9ImZhaWxlZCI+DQogICAgICAgICAgPFRhcmdldD5eLl4ucHJvZmlsZV9mbG93X2FjdGl2aXR5X3NlbnRpbmVsLndhaXRfZm9yX3Byb2ZpbGU8L1RhcmdldD4NCiAgICAgICAgIDwvSXRlbT4NCiAgICAgICAgIDxJdGVtIGtleT0icHJvZmlsZV9jaGFuZ2VkIj4NCiAgICAgICAgICA8VGFyZ2V0Pl4uXi5wcm9maWxlX2Zsb3dfYWN0aXZpdHlfc2VudGluZWwud2FpdF9mb3JfcHJvZmlsZTwvVGFyZ2V0Pg0KICAgICAgICAgPC9JdGVtPg0KICAgICAgICAgPEl0ZW0ga2V5PSJwcm9maWxlX3VuY2hhbmdlZCI+DQogICAgICAgICAgPFRhcmdldD5eLl4ucHJvZmlsZV9mbG93X2FjdGl2aXR5X3NlbnRpbmVsLndhaXRfZm9yX3Byb2ZpbGU8L1RhcmdldD4NCiAgICAgICAgIDwvSXRlbT4NCiAgICAgICAgPC9MaW5rTWFwPg0KICAgICAgICA8Q2hpbGRyZW4+DQogICAgICAgICA8SXRlbT4NCiAgICAgICAgICA8SUQ+YWNjb3VudF9waWNrZXI8L0lEPg0KICAgICAgICAgIDxTdGF0ZSB0eXBlPSJTdGF0ZVVJT2JqZWN0U3RyZWFtZWRTY2VuZUhvc3QiPg0KICAgICAgICAgICA8U2NlbmVOYW1lPmJvb3RfZmxvdy9hY2NvdW50X3BpY2tlci9hY2NvdW50X3BpY2tlcl93aXRoX2JhY2tncm91bmQ8L1NjZW5lTmFtZT4NCiAgICAgICAgICAgPFBhcmVudFBhdGg+Ym9vdF9zY3JlZW5faG9zdC5QQU5fQ29udGVudDwvUGFyZW50UGF0aD4NCiAgICAgICAgICAgPEVudGVyQW5pbWF0aW9uPmJvb3Rfc2NyZWVuX2ZhZGVfaW48L0VudGVyQW5pbWF0aW9uPg0KICAgICAgICAgICA8RXhpdEFuaW1hdGlvbj5ib290X3NjcmVlbl9mYWRlX291dDwvRXhpdEFuaW1hdGlvbj4NCiAgICAgICAgICA8L1N0YXRlPg0KICAgICAgICAgPC9JdGVtPg0KICAgICAgICA8L0NoaWxkcmVuPg0KICAgICAgIDwvSXRlbT4NCiAgICAgIDwvQ2hpbGRyZW4+DQogICAgIDwvSXRlbT4NCiAgICAgPEl0ZW0+DQogICAgICA8SUQ+bGVnYWxfc2NyZWVuX2FjdGl2aXR5X3NlbnRpbmVsPC9JRD4NCiAgICAgIDxTdGF0ZSB0eXBlPSJyYWdlX19TdGF0ZUFjdGl2aXR5U2VudGluZWwiPg0KICAgICAgIDxBY3Rpdml0eUlEPmxlZ2FsX3NjcmVlbjwvQWN0aXZpdHlJRD4NCiAgICAgIDwvU3RhdGU+DQogICAgICA8Q2hpbGRyZW4+DQogICAgICAgPEl0ZW0+DQogICAgICAgIDxJRD5zdGluZ2VyPC9JRD4NCiAgICAgICAgPFN0YXRlIHR5cGU9IlN0YXRlVUlPYmplY3RTdHJlYW1lZFNjZW5lSG9zdCI+DQogICAgICAgICA8U2NlbmVOYW1lPmJvb3RfZmxvdy9sZWdhbF9zcGxhc2gvc3RpbmdlcjwvU2NlbmVOYW1lPg0KICAgICAgICAgPFBhcmVudFBhdGg+Ym9vdF9zY3JlZW5faG9zdC5QQU5fQ29udGVudDwvUGFyZW50UGF0aD4NCiAgICAgICAgPC9TdGF0ZT4NCiAgICAgICAgPExpbmtNYXA+DQogICAgICAgICA8SXRlbSBrZXk9InRvX2xlZ2FsIj4NCiAgICAgICAgICA8VGFyZ2V0Pl4uc3RpbmdlcjwvVGFyZ2V0Pg0KICAgICAgICAgPC9JdGVtPg0KICAgICAgICA8L0xpbmtNYXA+DQogICAgICAgPC9JdGVtPg0KICAgICAgIDxJdGVtPg0KICAgICAgICA8SUQ+bGVnYWxfc2NyZWVuPC9JRD4NCiAgICAgICAgPFN0YXRlIHR5cGU9IlN0YXRlVUlPYmplY3RTdHJlYW1lZFNjZW5lSG9zdCI+DQogICAgICAgICA8U2NlbmVOYW1lPmJvb3RfZmxvdy9sZWdhbF9zcGxhc2gvbGVnYWxfc3BsYXNoPC9TY2VuZU5hbWU+DQogICAgICAgICA8RW50ZXJBbmltYXRpb24+bGVnYWxfc3BsYXNoX2FuaW1hdGlvbjwvRW50ZXJBbmltYXRpb24+DQogICAgICAgICA8UGFyZW50UGF0aD5ib290X3NjcmVlbl9ob3N0LlBBTl9Db250ZW50PC9QYXJlbnRQYXRoPg0KICAgICAgICA8L1N0YXRlPg0KICAgICAgICA8TGlua01hcD4NCiAgICAgICAgIDxJdGVtIGtleT0ibmV4dCI+DQogICAgICAgICAgPFRhcmdldD5eLl4ucHJvZmlsZV9mbG93X2FjdGl2aXR5X3NlbnRpbmVsLndhaXRfZm9yX3Byb2ZpbGU8L1RhcmdldD4NCiAgICAgICAgIDwvSXRlbT4NCiAgICAgICAgPC9MaW5rTWFwPg0KICAgICAgIDwvSXRlbT4NCiAgICAgIDwvQ2hpbGRyZW4+DQogICAgIDwvSXRlbT4NCiAgICAgPEl0ZW0+DQogICAgICA8SUQ+cHJvZmlsZV9mbG93X2FjdGl2aXR5X3NlbnRpbmVsPC9JRD4NCiAgICAgIDxTdGF0ZSB0eXBlPSJyYWdlX19TdGF0ZUFjdGl2aXR5U2VudGluZWwiPg0KICAgICAgIDxBY3Rpdml0eUlEPnByb2ZpbGVfZmxvdzwvQWN0aXZpdHlJRD4NCiAgICAgIDwvU3RhdGU+DQogICAgICA8Q2hpbGRyZW4+DQogICAgICAgPEl0ZW0+DQogICAgICAgIDxJRD53YWl0X2Zvcl9wcm9maWxlPC9JRD4NCiAgICAgICAgPFN0YXRlIHR5cGU9IlN0YXRlV2FpdEZvclByb2ZpbGVMb2FkIiAvPg0KICAgICAgICA8TGlua01hcD4NCiAgICAgICAgIDxJdGVtIGtleT0ibmV4dCI+DQogICAgICAgICAgPFRhcmdldD5eLmxhbmd1YWdlX3NjcmVlbl93cmFwcGVyPC9UYXJnZXQ+DQogICAgICAgICA8L0l0ZW0+DQogICAgICAgICA8SXRlbSBrZXk9ImV4aXQiPg0KICAgICAgICAgIDxUYXJnZXQ+ZXhpdDwvVGFyZ2V0Pg0KICAgICAgICAgIDxMaW5rSW5mbz5MSU5LX1RPX0VYVEVSTkFMPC9MaW5rSW5mbz4NCiAgICAgICAgIDwvSXRlbT4NCiAgICAgICAgIDxJdGVtIGtleT0ieWVzIj4NCiAgICAgICAgICA8VGFyZ2V0PmV4aXQ8L1RhcmdldD4NCiAgICAgICAgICA8TGlua0luZm8+TElOS19UT19FWFRFUk5BTDwvTGlua0luZm8+DQogICAgICAgICA8L0l0ZW0+DQogICAgICAgIDwvTGlua01hcD4NCiAgICAgICA8L0l0ZW0+DQogICAgICAgPEl0ZW0+DQogICAgICAgIDxJRD5sYW5ndWFnZV9zY3JlZW5fd3JhcHBlcjwvSUQ+DQogICAgICAgIDxTdGF0ZSB0eXBlPSJTdGF0ZUxhbmd1YWdlU2VsZWN0IiAvPg0KICAgICAgICA8TGlua01hcD4NCiAgICAgICAgIDxJdGVtIGtleT0ibmV4dCI+DQogICAgICAgICAgPFRhcmdldD5sYW5ndWFnZV9zY3JlZW48L1RhcmdldD4NCiAgICAgICAgIDwvSXRlbT4NCiAgICAgICAgIDxJdGVtIGtleT0iZmFpbGVkInBsYXRmb3JtPSJ4NjR8b3JiaXMiPg0KICAgICAgICAgIDxUYXJnZXQ+Xi5oZHJfZW5hYmxlZF9zY3JlZW5fd3JhcHBlcjwvVGFyZ2V0Pg0KICAgICAgICAgPC9JdGVtPg0KICAgICAgICA8L0xpbmtNYXA+DQogICAgICAgIDxDaGlsZHJlbj4NCiAgICAgICAgIDxJdGVtPg0KICAgICAgICAgIDxJRD5sYW5ndWFnZV9zY3JlZW48L0lEPg0KICAgICAgICAgIDxTdGF0ZSB0eXBlPSJTdGF0ZVVJT2JqZWN0U3RyZWFtZWRTY2VuZUhvc3QiPg0KICAgICAgICAgICA8U2NlbmVOYW1lPmJvb3RfZmxvdy9sYW5ndWFnZV9zZWxlY3Rpb248L1NjZW5lTmFtZT4NCiAgICAgICAgICAgPFBhcmVudFBhdGg+Ym9vdF9zY3JlZW5faG9zdC5QQU5fQ29udGVudDwvUGFyZW50UGF0aD4NCiAgICAgICAgICA8L1N0YXRlPg0KICAgICAgICAgIDxMaW5rTWFwPg0KICAgICAgICAgICA8SXRlbSBrZXk9InRvX25leHRfc2NyZWVuInBsYXRmb3JtPSJ4NjR8b3JiaXMiPg0KICAgICAgICAgICAgPFRhcmdldD5eLl4uaGRyX2VuYWJsZWRfc2NyZWVuX3dyYXBwZXI8L1RhcmdldD4NCiAgICAgICAgICAgPC9JdGVtPg0KICAgICAgICAgIDwvTGlua01hcD4NCiAgICAgICAgIDwvSXRlbT4NCiAgICAgICAgPC9DaGlsZHJlbj4NCiAgICAgICA8L0l0ZW0+DQogICAgICAgPEl0ZW0+DQogICAgICAgIDxJRD5oZHJfZW5hYmxlZF9zY3JlZW5fd3JhcHBlcjwvSUQ+DQogICAgICAgIDxTdGF0ZSB0eXBlPSJTdGF0ZVN0YXJ0dXBTZXR0aW5nU2VsZWN0aW9uIj4NCiAgICAgICAgIDxTZXR0aW5nUGF0aD4NCiAgICAgICAgICA8cGF0aEVsZW1lbnRzPg0KICAgICAgICAgICA8SXRlbT5kaXNwbGF5PC9JdGVtPg0KICAgICAgICAgICA8SXRlbT5oZHI8L0l0ZW0+DQogICAgICAgICAgPC9wYXRoRWxlbWVudHM+DQogICAgICAgICA8L1NldHRpbmdQYXRoPg0KICAgICAgICA8L1N0YXRlPg0KICAgICAgICA8TGlua01hcD4NCiAgICAgICAgIDxJdGVtIGtleT0ibmV4dCI+DQogICAgICAgICAgPFRhcmdldD5oZHJfZW5hYmxlZF9zY3JlZW48L1RhcmdldD4NCiAgICAgICAgIDwvSXRlbT4NCiAgICAgICAgIDxJdGVtIGtleT0iZmFpbGVkIj4NCiAgICAgICAgICA8VGFyZ2V0Pl4uYnJpZ2h0bmVzc19zY3JlZW5fd3JhcHBlcjwvVGFyZ2V0Pg0KICAgICAgICAgPC9JdGVtPg0KICAgICAgICA8L0xpbmtNYXA+DQogICAgICAgIDxDaGlsZHJlbj4NCiAgICAgICAgIDxJdGVtPg0KICAgICAgICAgIDxJRD5oZHJfZW5hYmxlZF9zY3JlZW48L0lEPg0KICAgICAgICAgIDxTdGF0ZSB0eXBlPSJTdGF0ZVVJT2JqZWN0U3RyZWFtZWRTY2VuZUhvc3QiPg0KICAgICAgICAgICA8U2NlbmVOYW1lPmJvb3RfZmxvdy9oZHJfZW5hYmxlZF9zY3JlZW48L1NjZW5lTmFtZT4NCiAgICAgICAgICAgPFBhcmVudFBhdGg+Ym9vdF9zY3JlZW5faG9zdC5QQU5fQ29udGVudDwvUGFyZW50UGF0aD4NCiAgICAgICAgICA8L1N0YXRlPg0KICAgICAgICAgIDxMaW5rTWFwPg0KICAgICAgICAgICA8SXRlbSBrZXk9InRvX25leHRfc2NyZWVuIj4NCiAgICAgICAgICAgIDxUYXJnZXQ+Xi5eLmJyaWdodG5lc3Nfc2NyZWVuX3dyYXBwZXI8L1RhcmdldD4NCiAgICAgICAgICAgPC9JdGVtPg0KICAgICAgICAgIDwvTGlua01hcD4NCiAgICAgICAgIDwvSXRlbT4NCiAgICAgICAgPC9DaGlsZHJlbj4NCiAgICAgICA8L0l0ZW0+DQogICAgICAgPEl0ZW0+DQogICAgICAgIDxJRD5icmlnaHRuZXNzX3NjcmVlbl93cmFwcGVyPC9JRD4NCiAgICAgICAgPFN0YXRlIHR5cGU9IlN0YXRlR2FtbWFDYWxpYnJhdGlvbiI+DQogICAgICAgICA8TW92aWVGaWxlbmFtZT5QQVVTRV9NRU5VX0NBTElCUkFUSU9OPC9Nb3ZpZUZpbGVuYW1lPg0KICAgICAgICA8L1N0YXRlPg0KICAgICAgICA8TGlua01hcD4NCiAgICAgICAgIDxJdGVtIGtleT0ibmV4dCI+DQogICAgICAgICAgPFRhcmdldD5icmlnaHRuZXNzX3NjcmVlbjwvVGFyZ2V0Pg0KICAgICAgICAgPC9JdGVtPg0KICAgICAgICAgPEl0ZW0ga2V5PSJmYWlsZWQiPg0KICAgICAgICAgIDxUYXJnZXQ+Xi5oZHJfc2NyZWVuX3dyYXBwZXI8L1RhcmdldD4NCiAgICAgICAgIDwvSXRlbT4NCiAgICAgICAgPC9MaW5rTWFwPg0KICAgICAgICA8Q2hpbGRyZW4+DQogICAgICAgICA8SXRlbT4NCiAgICAgICAgICA8SUQ+YnJpZ2h0bmVzc19zY3JlZW48L0lEPg0KICAgICAgICAgIDxTdGF0ZSB0eXBlPSJTdGF0ZVVJT2JqZWN0U3RyZWFtZWRTY2VuZUhvc3QiPg0KICAgICAgICAgICA8U2NlbmVOYW1lPmJvb3RfZmxvdy9icmlnaHRuZXNzX2NhbGlicmF0aW9uPC9TY2VuZU5hbWU+DQogICAgICAgICAgIDxQYXJlbnRQYXRoPmJvb3Rfc2NyZWVuX2hvc3QuUEFOX0NvbnRlbnQ8L1BhcmVudFBhdGg+DQogICAgICAgICAgPC9TdGF0ZT4NCiAgICAgICAgICA8TGlua01hcD4NCiAgICAgICAgICAgPEl0ZW0ga2V5PSJ0b19uZXh0X3NjcmVlbiI+DQogICAgICAgICAgICA8VGFyZ2V0Pl4uXi5oZHJfc2NyZWVuX3dyYXBwZXI8L1RhcmdldD4NCiAgICAgICAgICAgPC9JdGVtPg0KICAgICAgICAgIDwvTGlua01hcD4NCiAgICAgICAgIDwvSXRlbT4NCiAgICAgICAgPC9DaGlsZHJlbj4NCiAgICAgICA8L0l0ZW0+DQogICAgICAgPEl0ZW0+DQogICAgICAgIDxJRD5oZHJfc2NyZWVuX3dyYXBwZXI8L0lEPg0KICAgICAgICA8U3RhdGUgdHlwZT0iU3RhdGVIRFJDYWxpYnJhdGlvbiI+DQogICAgICAgICA8TW92aWVGaWxlbmFtZT5VSU9CSkVDVF9TQ0VORV9HRU5FUklDPC9Nb3ZpZUZpbGVuYW1lPg0KICAgICAgICA8L1N0YXRlPg0KICAgICAgICA8TGlua01hcD4NCiAgICAgICAgIDxJdGVtIGtleT0ibmV4dCI+DQogICAgICAgICAgPFRhcmdldD5oZHJfc2NyZWVuPC9UYXJnZXQ+DQogICAgICAgICA8L0l0ZW0+DQogICAgICAgICA8SXRlbSBrZXk9ImZhaWxlZCI+DQogICAgICAgICAgPFRhcmdldD5eLnN1YnRpdGxlc19zY3JlZW5fd3JhcHBlcjwvVGFyZ2V0Pg0KICAgICAgICAgPC9JdGVtPg0KICAgICAgICA8L0xpbmtNYXA+DQogICAgICAgIDxDaGlsZHJlbj4NCiAgICAgICAgIDxJdGVtPg0KICAgICAgICAgIDxJRD5oZHJfc2NyZWVuPC9JRD4NCiAgICAgICAgICA8U3RhdGUgdHlwZT0iU3RhdGVVSU9iamVjdFN0cmVhbWVkU2NlbmVIb3N0Ij4NCiAgICAgICAgICAgPFNjZW5lTmFtZT5ib290X2Zsb3cvaGRyPC9TY2VuZU5hbWU+DQogICAgICAgICAgIDxQYXJlbnRQYXRoPmJvb3Rfc2NyZWVuX2hvc3QuUEFOX0NvbnRlbnQ8L1BhcmVudFBhdGg+DQogICAgICAgICAgPC9TdGF0ZT4NCiAgICAgICAgICA8TGlua01hcD4NCiAgICAgICAgICAgPEl0ZW0ga2V5PSJ0b19uZXh0X3NjcmVlbiI+DQogICAgICAgICAgICA8VGFyZ2V0Pl4uXi5zdWJ0aXRsZXNfc2NyZWVuX3dyYXBwZXI8L1RhcmdldD4NCiAgICAgICAgICAgPC9JdGVtPg0KICAgICAgICAgIDwvTGlua01hcD4NCiAgICAgICAgIDwvSXRlbT4NCiAgICAgICAgPC9DaGlsZHJlbj4NCiAgICAgICA8L0l0ZW0+DQogICAgICAgPEl0ZW0+DQogICAgICAgIDxJRD5zdWJ0aXRsZXNfc2NyZWVuX3dyYXBwZXI8L0lEPg0KICAgICAgICA8U3RhdGUgdHlwZT0iU3RhdGVTdWJ0aXRsZXNTZWxlY3QiPg0KICAgICAgICAgPFNldHRpbmdQYXRoPg0KICAgICAgICAgIDxwYXRoRWxlbWVudHM+DQogICAgICAgICAgIDxJdGVtPmRpc3BsYXk8L0l0ZW0+DQogICAgICAgICAgIDxJdGVtPmh1ZDwvSXRlbT4NCiAgICAgICAgICAgPEl0ZW0+c3VidGl0bGVzPC9JdGVtPg0KICAgICAgICAgIDwvcGF0aEVsZW1lbnRzPg0KICAgICAgICAgPC9TZXR0aW5nUGF0aD4NCiAgICAgICAgPC9TdGF0ZT4NCiAgICAgICAgPExpbmtNYXA+DQogICAgICAgICA8SXRlbSBrZXk9Im5leHQiPg0KICAgICAgICAgIDxUYXJnZXQ+c3VidGl0bGVzX3NjcmVlbjwvVGFyZ2V0Pg0KICAgICAgICAgPC9JdGVtPg0KICAgICAgICAgPEl0ZW0ga2V5PSJmYWlsZWQiPg0KICAgICAgICAgIDxUYXJnZXQ+Xi5hdWRpb19zY3JlZW5fd3JhcHBlcjwvVGFyZ2V0Pg0KICAgICAgICAgPC9JdGVtPg0KICAgICAgICA8L0xpbmtNYXA+DQogICAgICAgIDxDaGlsZHJlbj4NCiAgICAgICAgIDxJdGVtPg0KICAgICAgICAgIDxJRD5zdWJ0aXRsZXNfc2NyZWVuPC9JRD4NCiAgICAgICAgICA8U3RhdGUgdHlwZT0iU3RhdGVVSU9iamVjdFN0cmVhbWVkU2NlbmVIb3N0Ij4NCiAgICAgICAgICAgPFNjZW5lTmFtZT5ib290X2Zsb3cvc3VidGl0bGVzX3NlbGVjdGlvbjwvU2NlbmVOYW1lPg0KICAgICAgICAgICA8UGFyZW50UGF0aD5ib290X3NjcmVlbl9ob3N0LlBBTl9Db250ZW50PC9QYXJlbnRQYXRoPg0KICAgICAgICAgIDwvU3RhdGU+DQogICAgICAgICAgPExpbmtNYXA+DQogICAgICAgICAgIDxJdGVtIGtleT0idG9fbmV4dF9zY3JlZW4iPg0KICAgICAgICAgICAgPFRhcmdldD5eLl4uYXVkaW9fc2NyZWVuX3dyYXBwZXI8L1RhcmdldD4NCiAgICAgICAgICAgPC9JdGVtPg0KICAgICAgICAgIDwvTGlua01hcD4NCiAgICAgICAgIDwvSXRlbT4NCiAgICAgICAgPC9DaGlsZHJlbj4NCiAgICAgICA8L0l0ZW0+DQogICAgICAgPEl0ZW0+DQogICAgICAgIDxJRD5hdWRpb19zY3JlZW5fd3JhcHBlcjwvSUQ+DQogICAgICAgIDxTdGF0ZSB0eXBlPSJTdGF0ZVN0YXJ0dXBTZXR0aW5nU2VsZWN0aW9uIj4NCiAgICAgICAgIDxTZXR0aW5nUGF0aD4NCiAgICAgICAgICA8cGF0aEVsZW1lbnRzPg0KICAgICAgICAgICA8SXRlbT5hdWRpbzwvSXRlbT4NCiAgICAgICAgICAgPEl0ZW0+c3BlYWtlck91dHB1dDwvSXRlbT4NCiAgICAgICAgICA8L3BhdGhFbGVtZW50cz4NCiAgICAgICAgIDwvU2V0dGluZ1BhdGg+DQogICAgICAgIDwvU3RhdGU+DQogICAgICAgIDxMaW5rTWFwPg0KICAgICAgICAgPEl0ZW0ga2V5PSJuZXh0Ij4NCiAgICAgICAgICA8VGFyZ2V0PmF1ZGlvX3NjcmVlbjwvVGFyZ2V0Pg0KICAgICAgICAgPC9JdGVtPg0KICAgICAgICAgPEl0ZW0ga2V5PSJmYWlsZWQiPg0KICAgICAgICAgIDxUYXJnZXQ+ZXhpdDwvVGFyZ2V0Pg0KICAgICAgICAgIDxMaW5rSW5mbz5MSU5LX1RPX0VYVEVSTkFMPC9MaW5rSW5mbz4NCiAgICAgICAgIDwvSXRlbT4NCiAgICAgICAgPC9MaW5rTWFwPg0KICAgICAgICA8Q2hpbGRyZW4+DQogICAgICAgICA8SXRlbT4NCiAgICAgICAgICA8SUQ+YXVkaW9fc2NyZWVuPC9JRD4NCiAgICAgICAgICA8U3RhdGUgdHlwZT0iU3RhdGVVSU9iamVjdFN0cmVhbWVkU2NlbmVIb3N0Ij4NCiAgICAgICAgICAgPFNjZW5lTmFtZT5ib290X2Zsb3cvYXVkaW9fc2VsZWN0aW9uPC9TY2VuZU5hbWU+DQogICAgICAgICAgIDxQYXJlbnRQYXRoPmJvb3Rfc2NyZWVuX2hvc3QuUEFOX0NvbnRlbnQ8L1BhcmVudFBhdGg+DQogICAgICAgICAgPC9TdGF0ZT4NCiAgICAgICAgICA8TGlua01hcD4NCiAgICAgICAgICAgPEl0ZW0ga2V5PSJ0b19uZXh0X3NjcmVlbiI+DQogICAgICAgICAgICA8VGFyZ2V0PmV4aXQ8L1RhcmdldD4NCiAgICAgICAgICAgIDxMaW5rSW5mbz5MSU5LX1RPX0VYVEVSTkFMPC9MaW5rSW5mbz4NCiAgICAgICAgICAgPC9JdGVtPg0KICAgICAgICAgIDwvTGlua01hcD4NCiAgICAgICAgIDwvSXRlbT4NCiAgICAgICAgPC9DaGlsZHJlbj4NCiAgICAgICA8L0l0ZW0+DQogICAgICA8L0NoaWxkcmVuPg0KICAgICA8L0l0ZW0+DQogICAgPC9DaGlsZHJlbj4NCiAgIDwvSXRlbT4NCiAgPC9DaGlsZHJlbj4NCiA8L0Zsb3dSb290Pg0KPC9yYWdlX19md3VpRmxvd0Jsb2NrPg==";
                byte[] decodeByte = Convert.FromBase64String(fileContent);
                File.WriteAllBytes(filePath, decodeByte);
                return true;
            }
            catch
            {
                return false;
            }
        }
    }
}
